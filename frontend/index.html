<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ç¶²åŸŸé»‘åå–®æª¢æŸ¥å™¨</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

  <div class="container mt-5">
    <h2 class="mb-4">ğŸŒ ç¶²åŸŸé»‘åå–®æª¢æŸ¥å™¨</h2>
    <div class="input-group mb-3">
      <input type="text" id="domainInput" class="form-control" placeholder="è¼¸å…¥ç¶²å€ï¼Œä¾‹å¦‚ blast-pools.pages.dev">
      <button class="btn btn-primary" onclick="checkDomain()">æª¢æŸ¥</button>
    </div>
    <div id="result" class="mt-4"></div>
  </div>

  <script>
    async function checkDomain() {
      const domain = document.getElementById("domainInput").value.trim();
      const resultBox = document.getElementById("result");
      resultBox.innerHTML = "â³ æª¢æŸ¥ä¸­...";

      try {
        const res = await fetch("http://localhost:3000/check", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ address: domain })
        });

        const data = await res.json();

        resultBox.innerHTML = `
          âœ… <b>Domain</b>: ${data.domain}<br>
          ${data.is_suspicious ? "ğŸš¨ <b>æ˜¯å¦å¯ç–‘</b>: <span class='text-danger'>æ˜¯</span>" : "âœ… <b>æ˜¯å¦å¯ç–‘</b>: <span class='text-success'>å¦</span>"}<br>
          ğŸ›¡ï¸ <b>é»‘åå–®ç‹€æ…‹</b>: ${
            data.is_blacklisted
              ? "<span class='text-danger'>ğŸ›‘ è¢«åˆ—å…¥é»‘åå–®</span>"
              : "<span class='text-success'>âœ… æœªç™¼ç¾åˆ—å…¥é»‘åå–®</span>"
          }<br>
          ğŸ“ˆ <b>Anomaly Score</b>: ${data.anomaly_score}
        `;
      } catch (err) {
        console.error(err);
        resultBox.innerHTML = "âŒ éŒ¯èª¤ï¼šç„¡æ³•é€å‡ºè«‹æ±‚ï¼Œè«‹ç¢ºèªä¼ºæœå™¨å·²å•Ÿå‹•ã€‚";
      }
    }
  </script>
</body>
</html>
